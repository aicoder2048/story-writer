# StoryWriter - AI小说创作系统

基于 Claude Code 的短篇小说自动创作系统，支持科幻、武侠、童话三种类型的小说创作。

## 功能特性

- **多类型支持**：科幻、武侠、童话三种小说类型
- **两种创作模式**：交互式创作 / 一键自动生成
- **专业创作指导**：每种类型配备专属技能包（Skill）
- **完整创作流程**：大纲 → 人物 → 目录 → 章节 → PDF导出
- **风格化写作**：每种类型有独特的写作风格和方法论

---

## 快速开始

### 前置要求

- [Claude Code CLI](https://claude.com/claude-code) 已安装并配置
- 项目目录已初始化

### 使用方式

在 Claude Code 中使用斜杠命令：

```bash
# 一键生成完整小说（推荐）
/kehuan_writer_auto <故事名> <story_spec文件路径>
/wuxia_writer_auto <故事名> <story_spec文件路径>
/tonghua_writer_auto <故事名> <story_spec文件路径>

# 交互式创作（逐步引导）
/kehuan_writer <故事名>
/wuxia_writer <故事名>
/tonghua_writer <故事名>
```

---

## 创作命令详解

### 1. 科幻小说 `/kehuan_writer`

**风格特点**：融合阿西莫夫的逻辑严密与刘慈欣的宏大格局

| 命令 | 说明 | 参数 |
|------|------|------|
| `/kehuan_writer` | 交互式创作 | `<故事名>` |
| `/kehuan_writer_auto` | 一键生成 | `<故事名> <story_spec路径>` |

**创作元素**：
- 硬核科技设定
- 宇宙尺度叙事
- 理性思辨对话
- 文明冲突与终极思考

### 2. 武侠小说 `/wuxia_writer`

**风格特点**：传承金庸武侠的典雅古风与侠义精神

| 命令 | 说明 | 参数 |
|------|------|------|
| `/wuxia_writer` | 交互式创作 | `<故事名>` |
| `/wuxia_writer_auto` | 一键生成 | `<故事名> <story_spec路径>` |

**创作元素**：
- 古风典雅文笔
- 江湖恩怨情仇
- 武功招式描写
- 侠义精神内核

### 3. 童话小说 `/tonghua_writer`

**风格特点**：诗意优美的童话语言与温暖治愈的故事

| 命令 | 说明 | 参数 |
|------|------|------|
| `/tonghua_writer` | 交互式创作 | `<故事名>` |
| `/tonghua_writer_auto` | 一键生成 | `<故事名> <story_spec路径>` |

**创作元素**：
- 诗意优美语言
- 奇幻魔法世界
- 温暖治愈主题
- 寓教于乐内涵

---

## Story Spec 文件格式

一键生成模式需要提供 `story_spec` 文件，定义故事的核心设定。

### 文件位置

```
story_specs/
├── 你的故事名.md
└── ...
```

### 文件格式

```markdown
## Q1：核心创意（世界观/背景设定）
描述故事发生的世界、时代背景、核心设定...

## Q2：核心冲突（主要矛盾/戏剧张力）
描述故事的核心矛盾、冲突来源...

## Q3：主角设定（人物设计/成长轨迹）
描述主角的身份、特点、内心矛盾...
```

### 示例：科幻故事 Spec

```markdown
## Q1：核心创意
2247年，超级智能LOGOS完成了对人类文明的统一建模，
宣布人类成为"可预测文明"。银河系高等文明提出"温和收束"方案...

## Q2：核心冲突
AGI与高等文明认为人类已被完全理解，可进入"文明休眠态"；
但存在无法被预测的异常个体，成为决定人类命运的关键变量...

## Q3：主角设定
主角是一名文明归档校对员，被标记为"Low Utility"。
他坚持做"不必要"的事情——写一本没有读者的小说...
```

---

## 创作流程

### 一键生成模式（`*_auto`）

```
┌─────────────────────────────────────────────────────────┐
│  /kehuan_writer_auto 不必要的存在 story_specs/xxx.md    │
└─────────────────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│ Phase 1: 初始化                                          │
│ - 读取 story_spec 文件                                   │
│ - 创建项目目录结构                                       │
└─────────────────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│ Phase 2-4: 创作规划                                      │
│ - 生成 outline.md（故事大纲，2000-3000字）               │
│ - 生成 character.md（人物小传）                          │
│ - 生成 chapter_index.md（5章目录）                       │
└─────────────────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│ Phase 5-9: 章节创作                                      │
│ - 创作 Chapter-01.md ~ Chapter-05.md                    │
│ - 每章 2000-3000 字                                      │
│ - 自动读取前章确保连贯性                                 │
└─────────────────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│ Phase 10: PDF导出                                        │
│ - 转换所有章节为PDF格式                                  │
│ - 应用复古纸张样式                                       │
└─────────────────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│ Phase 11: 完成报告                                       │
│ - 文件清单 + 字数统计 + 耗时统计                         │
└─────────────────────────────────────────────────────────┘
```

### 交互式创作模式

1. **启动命令**：`/kehuan_writer 我的故事`
2. **回答问题**：系统会询问Q1/Q2/Q3三个核心问题
3. **生成大纲**：基于回答创作故事大纲
4. **逐步完善**：可以修改大纲、人物、章节
5. **章节创作**：使用 `/kehuan-skill write chapter N` 创作指定章节

---

## 生成文件结构

```
故事名/
├── outline.md           # 故事大纲（起承转合结构）
├── character.md         # 人物小传（主角/配角/对立角色）
├── chapter_index.md     # 章节目录（5章规划）
└── chapters/
    ├── Chapter-01.md    # 第1章正文
    ├── Chapter-01.pdf   # 第1章PDF
    ├── Chapter-02.md
    ├── Chapter-02.pdf
    ├── Chapter-03.md
    ├── Chapter-03.pdf
    ├── Chapter-04.md
    ├── Chapter-04.pdf
    ├── Chapter-05.md
    └── Chapter-05.pdf
```

---

## 技能包说明

每种小说类型配备专属技能包（Skill），提供：

| 组件 | 说明 |
|------|------|
| `SKILL.md` | 技能核心配置和执行流程 |
| `Outline-method.md` | 大纲创作方法论 |
| `Output-style.md` | 写作风格指南 |
| `templates/` | 文档格式模板 |
| `examples/` | 创作示例参考 |

### 技能包位置

```
.claude/skills/
├── kehuan-skill/    # 科幻创作技能包
├── wuxia-skill/     # 武侠创作技能包
└── tonghua-skill/   # 童话创作技能包
```

---

## 使用示例

### 示例1：一键生成科幻小说

```bash
# 1. 创建 story_spec 文件
# story_specs/时间囚徒.md

# 2. 执行一键生成
/kehuan_writer_auto 时间囚徒 story_specs/时间囚徒.md

# 3. 等待约15-20分钟，获得完整小说
```

### 示例2：交互式创作武侠小说

```bash
# 1. 启动交互式创作
/wuxia_writer 龙吟月下

# 2. 根据提示回答三个核心问题
# Q1: 描述武侠世界的背景设定...
# Q2: 描述核心冲突和矛盾...
# Q3: 描述主角的身份和特点...

# 3. 系统生成大纲，可以修改完善
# 4. 继续创作人物、目录、章节
```

### 示例3：单独创作某一章节

```bash
# 在已有项目基础上，创作或重写某一章
/kehuan-skill write chapter 3
```

---

## 常见问题

### Q: 一键生成需要多长时间？

A: 通常需要 15-20 分钟完成全部创作，包括：
- 大纲：2-3 分钟
- 人物：1-2 分钟
- 目录：~1 分钟
- 每章：1-3 分钟
- PDF导出：~1 分钟

### Q: 如何修改已生成的内容？

A: 可以直接编辑对应的 `.md` 文件，或使用交互式命令重新生成特定部分。

### Q: 支持自定义写作风格吗？

A: 可以修改 `.claude/skills/<type>-skill/Output-style.md` 来调整写作风格。

### Q: 生成的PDF使用什么样式？

A: 默认使用复古纸张样式（`vintage-paper.css`），可在 `.claude/skills/md2pdf/assets/` 中查看或修改。

---

## 项目结构

```
StoryWriter/
├── README.md                    # 本文件
├── .claude/
│   ├── commands/                # 创作命令
│   │   ├── kehuan_writer.md
│   │   ├── kehuan_writer_auto.md
│   │   ├── wuxia_writer.md
│   │   ├── wuxia_writer_auto.md
│   │   ├── tonghua_writer.md
│   │   └── tonghua_writer_auto.md
│   └── skills/                  # 创作技能包
│       ├── kehuan-skill/
│       ├── wuxia-skill/
│       ├── tonghua-skill/
│       └── md2pdf/
├── story_specs/                 # 故事规格文件
│   └── *.md
└── [故事目录]/                   # 生成的小说项目
    ├── outline.md
    ├── character.md
    ├── chapter_index.md
    └── chapters/
```

---

## 许可证

MIT License

---

## 致谢

- [Claude Code](https://claude.com/claude-code) - AI编程助手
- [Anthropic](https://anthropic.com) - Claude AI
